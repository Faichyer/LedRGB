<html>

<head>
  <meta http-equiv='content-type' content='text/html; charset=UTF-8'>

  <title>Arduino WEB</title>
  <link type="text/css" rel="StyleSheet" href="my.css" />
  <script>
  function GetFlameState() {
    nocache = "&nocache=" + Math.random() * 1000000;
    var request = new XMLHttpRequest();
    request.onreadystatechange = function() {
      if ((this.readyState == 4) && (this.status == 200)&& (this.responseText != null)){
        {
          var arrayOfStrings = this.responseText.split(":");
        }
      }
    }
    request.open("GET", "ajax_flame" + nocache, true);
    request.send(null);
    setTimeout('GetFlameState()', 1000);
  }
  function onClick(pin){
    var request = new XMLHttpRequest();
    request.open("GET", "\setpin?pin=" + pin , false);
    request.send(null);
  }

  function Led_R(){
    value = document.getElementById("led_R").value;
    document.getElementById("led_affR").innerHTML = value;
    var request = new XMLHttpRequest();
    request.open("GET", "\setpin?pin=3?value=" + value , false);
    request.send(null);
  }
  function Led_G(){
    value = document.getElementById("led_G").value;
    document.getElementById("led_affG").innerHTML = value;
    var request = new XMLHttpRequest();
    request.open("GET", "\setpin?pin=5?value=" + value , false);
    request.send(null);
  }
  function Led_B(){
    value = document.getElementById("led_B").value;
    document.getElementById("led_affB").innerHTML = value;
    var request = new XMLHttpRequest();
    request.open("GET", "\setpin?pin=6?value=" + value , false);
    request.send(null);

  }
  function change_bck(){
    var red = document.getElementById("led_R").value;
    var green = document.getElementById("led_G").value;
    var blue = document.getElementById("led_B").value;
    document.body.style.background = "rgb(" + red + "," + green + "," + blue + ")";
  }
  function Strob(){
    var request = new XMLHttpRequest();
    request.open("GET", "\setpin?pin=1"  , false);
    request.send(null);
  }
  </script>

</head>

<body onload="GetFlameState(), change_bck()" >
  <div class="form">
    <img src="Led_rgb.png" />
      <br><br>
      <img src="Ch_des_c.png" id="chdc"/><br><br><br><br><br>
	<div class="Ranges">
		<span class='indicateur_barres'>R </span>
    <input type="range" min="0" max="255" id="led_R" step="1.00" oninput="Led_R()" onchange="change_bck()"  value="127" > </i>
    <span id="led_affR" class="Affichage_valeur"> </span>
    <span class = "Strob">Stroboscope</span>
    <label class="switch">
      <input type="checkbox" id="Strob" onClick="Strob()">
      <div class="slider round"></div>
    </label>
    </br></br>
		<span class='indicateur_barres'>G </span>
    <input type="range" min="0" max="255" id="led_G" step="1.00" oninput="Led_G()"onchange="change_bck()" value="127" > </i>
    <span id="led_affG" class="Affichage_valeur"> </span></br></br></br>
		<span class='indicateur_barres'>B </span>
    <input type="range" min="0" max="255" id="led_B" step="1.00" oninput="Led_B()"onchange="change_bck()" value="127" > </i>
    <span id="led_affB" class="Affichage_valeur"> </span>

	</div>
  </div>
</body>
</html>
